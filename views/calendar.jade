mixin cell(ev) 
    li(id=ev.ID).calCourse 
        div.calTitle
            a(title=ev.ID)=ev.title 
            a(href="/delete?id="+ev.ID)
                i(style="float:right; padding-left: 10px").fa.fa-trash
            
            a(href="/modify?id="+ev.ID)
                i(style="float:right").fa.fa-pencil

        ul.calContent
            li 
                b=ev.hours
            li=ev.comment
            li!=ev.lecturer
            -var campus = ev.location.match(/(.+)::/)[1];
            -var building = ev.location.match(/::(.+)@/)[1];
            -var room = ev.location.match(/@(.+)/)[1];
            li
                b Loc: 
                = campus
            li
                b Bldg: 
                = building
            li
                b Room:
                = room
            each warn in ev.warnings
                li 
                    i.fa.fa-exclamation-triangle(style="color: #f00")=warn



extends layout

block content

    div.splash
        div.container
            h1 Calendar Management
            h2 Overview
            hr

    div.container
        br
        br
                
        div.row.col-lg-6
            a.btn.btn-default(href="/previousweek")
                i.fa.fa-backward.fa-lg
            span(style="font-size: 20px")= 'Week ' + weeknum
            a.btn.btn-default(href="/nextweek")
                i.fa.fa-forward.fa-lg
        br
        br
        div.row
            div.col-lg-3 
                p.text-center= days[0].day
                    sub=days[0].date+days[0].month
                ul(style="padding-left:10px;")
                    each event in events[1]
                        +cell(event)

                    li(id="new").calCourse 
                        div.calTitle
                            a New Course/Event
                        ul.calContent
                            div.alert.alert-info(role="alert") 
                                button.close( type="button", data-dismiss="alert", aria-label="Close")
                                    span(aria-hidden="true")&times;
                                !No Event/Course chosen!!
                            br

                            form(action="/calendar", method="POST")
                                li 
                                    select#sem(name="sem", onchange="addSemesterCourse()")
                                        each sem, i in settings.semesters
                                            option(value=i+6) #{sem}
                                br
                                li
                                    select#S6(name="S6")
                                        each course, i in menus.s06
                                            option(value='#{course.apogee}' ) #{course.name}
                                    select#S7(name="S7")
                                        each course, i in menus.s07
                                            option(value='#{course.apogee}' ) #{course.name}
                                    select#S8(name="S8")
                                        each course, i in menus.s08
                                            option(value='#{course.apogee}' ) #{course.name}
                                    select#S9(name="S9")
                                        each course, i in menus.s09
                                            option(value='#{course.apogee}') #{course.name}
                                    select#S10(name="S10")
                                        each course, i in menus.s10
                                            option(value='#{course.apogee}' ) #{course.name}
                                    select#S11(name="S11")
                                        each course, i in menus.s11
                                            option(value='#{course.apogee}' ) #{course.name}
                                br
                                li
                                    &nbsp;
                                    input.btn.btn-default.pull-right(type="submit", value="Submit") 

                                    br
                        br



            div.col-lg-2  
                p.text-center= days[1].day
                    sub=days[1].date+days[1].month
                ul(style="padding-left:10px;")
                    each event in events[2]
                        +cell(event)

            div.col-lg-2  
                p.text-center= days[2].day
                    sub=days[2].date+days[2].month
                ul(style="padding-left:10px;")
                    each event in events[3]
                        +cell(event)

            div.col-lg-2  
                p.text-center= days[3].day
                    sub=days[3].date+days[3].month
                ul(style="padding-left:10px;")
                    each event in events[4]
                        +cell(event)

            div.col-lg-2  
                p.text-center= days[4].day
                    sub=days[4].date+days[4].month
                ul(style="padding-left:10px;")
                    each event in events[5]
                        +cell(event)
            br
            br



    // jQuery (necessary for Bootstrap's JavaScript plugins)
    script(src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js")
    // Include all compiled plugins (below), or include individual files as needed
    script(src="/javascripts/bootstrap.min.js")
        
            
